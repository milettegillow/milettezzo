---
import '../styles/global.css';

const {
  title = "Milette Gillow | Mezzo-Soprano",
  description = "Milette Gillow is a classical mezzo-soprano. Explore performances, digital content, biography, and contact information. Milettezzo - Milette Gillow, mezzo-soprano.",
  keywords = "milettezzo, milette gillow, mezzo-soprano, opera, classical music, singer, performer",
  image = "/images/portrait.jpg",
  type = "website"
} = Astro.props;

const siteUrl = Astro.site || "https://milettezzo.com";
const canonicalUrl = new URL(Astro.url.pathname, siteUrl).href;
const ogImage = new URL(image, siteUrl).href;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content={description} />
    <meta name="keywords" content={keywords} />
    <meta name="author" content="Milette Gillow" />
    <link rel="canonical" href={canonicalUrl} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content={type} />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:site_name" content="Milettezzo" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={canonicalUrl} />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/images/milettezzo-favicon.png" />
    <link rel="apple-touch-icon" href="/images/milettezzo-favicon.png" />
    
    <!-- Google Fonts - Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Typography: Crimson Text (serif) + Inter (sans) + Kalam (handwritten) -->
    <link 
      href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500&family=Kalam:wght@300;400&display=swap" 
      rel="stylesheet" 
    />
  </head>

  <body>
    <header>
      <nav>
        <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        <div class="nav-links" id="nav-links">
        <a href="/">Home</a>
        <a href="/biography">Biography</a>
          <a href="/performances">Performances</a>
        <a href="/digital">Digital</a>
        <a href="/contact">Contact</a>
        </div>
        <img src="/images/signature-taupe.svg" alt="Milette Gillow signature" class="header-signature" />
      </nav>
    </header>

    <main>
      <slot />
    </main>

    <script>
      // Hamburger menu toggle
      (function() {
        const menuToggle = document.getElementById('menu-toggle');
        const navLinks = document.getElementById('nav-links');
        
        if (!menuToggle || !navLinks) return;
        
        menuToggle.addEventListener('click', () => {
          const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
          menuToggle.setAttribute('aria-expanded', !isExpanded);
          navLinks.classList.toggle('nav-open');
          menuToggle.classList.toggle('menu-open');
        });
        
        // Close menu when clicking a link (mobile/tablet)
        navLinks.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', () => {
            if (window.innerWidth <= 1024) {
              menuToggle.setAttribute('aria-expanded', 'false');
              navLinks.classList.remove('nav-open');
              menuToggle.classList.remove('menu-open');
            }
          });
        });
      })();
    </script>
  </body>
</html>
